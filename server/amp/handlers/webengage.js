function getHelperIframeHtmlStr() {
  // as per https://docs.webengage.com/docs/web-push-for-amp
  // https://s3.amazonaws.com/amp-helpers/amp-web-push-helper-frame.html
  return `
  <!DOCTYPE html><html class="gr__cdn_ampproject_org"><head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> <script>function sha1(e){function t(e, t, o, r){switch (e){case 0: return t & o ^ ~t & r; case 1: return t ^ o ^ r; case 2: return t & o ^ t & r ^ o & r; case 3: return t ^ o ^ r}}function o(e, t){return e << t | e >>> 32 - t}function r(e){for (var t="", o=7; o >=0; o--) t +=(e >>> 4 * o & 15).toString(16); return t}e=unescape(encodeURIComponent(e)); for (var n=[1518500249, 1859775393, 2400959708, 3395469782], a=(e +=String.fromCharCode(128)).length / 4 + 2, i=Math.ceil(a / 16), c=new Array(i), h=0; h < i; h++){c[h]=new Array(16); for (var u=0; u < 16; u++) c[h][u]=e.charCodeAt(64 * h + 4 * u) << 24 | e.charCodeAt(64 * h + 4 * u + 1) << 16 | e.charCodeAt(64 * h + 4 * u + 2) << 8 | e.charCodeAt(64 * h + 4 * u + 3)}c[i - 1][14]=8 * (e.length - 1) / Math.pow(2, 32), c[i - 1][14]=Math.floor(c[i - 1][14]), c[i - 1][15]=8 * (e.length - 1) & 4294967295; var s, d, f, l, w, g=1732584193, m=4023233417, p=2562383102, v=271733878, C=3285377520, M=new Array(80); for (h=0; h < i; h++){for (var A=0; A < 16; A++) M[A]=c[h][A]; for (A=16; A < 80; A++) M[A]=o(M[A - 3] ^ M[A - 8] ^ M[A - 14] ^ M[A - 16], 1); s=g, d=m, f=p, l=v, w=C; for (A=0; A < 80; A++){var k=Math.floor(A / 20), D=o(s, 5) + t(k, d, f, l) + w + n[k] + M[A] & 4294967295; w=l, l=f, f=o(d, 30), d=s, s=D}g=g + s & 4294967295, m=m + d & 4294967295, p=p + f & 4294967295, v=v + l & 4294967295, C=C + w & 4294967295}return r(g) + r(m) + r(p) + r(v) + r(C)}function setCookie(e, t, o, r, n, a){var i=new Date; o && (o=1e3 * o * 60 * 60 * 24, o=new Date(i.getTime() + o)), document.cookie=e + "=" + encodeURIComponent(t) + (o ? ";expires=" + o.toGMTString() : "") + (r ? ";path=" + r : "") + (n ? ";domain=" + n : "") + (a ? ";secure" : "")}function luid(){for (var e, t, o=[new URLSearchParams(window.location.search).get("licenseCode") || "", (new Date) .getTime(), (new Date).getTime(), (new Date).toString().substr(25), window.navigator.platform, 268435456 * Math.random() + 65536, 65536 * Math.random()].concat(window.location.href.split("/"), window.navigator.userAgent.split(" "), document.cookie .split(";")), r=o.length - 1; r > 0; r--) e=Math.floor(Math.random() * (r + 1)), t=o[r], o[ r]=o[e], o[e]=t; var n=sha1(o.join()); return setCookie("we_luid", n, 365, "/"), n}function getCookie(e){var t=("; " + document.cookie).split("; " + e + "="); return 2==t.length ? t.pop().split(";").shift() : luid()}!(function (){var t, e, i=((e=this), "undefined" !=typeof window && window===e ? e : "undefined" !=typeof global && null !=global ? global : e); function n(t, e){e=void 0===e ? "" : e; try{return decodeURIComponent(t);}catch (t){return e;}}var s=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g; self.log=self.log ||{user: null, dev: null, userForEmbed: null}; var o, a, c=self.log; function h(){(this.M=100), (this.C=this.I=0), (this.w=Object.create(null));}function l(t){o || ((o=self.document.createElement("a")), (a=self.UrlCache || (self.UrlCache=new h()))); var e=a, i=o; if (e && e.has(t)) t=e.get(t); else{(i.href=t), i.protocol || (i.href=i.href); var r={href: i.href, protocol: i.protocol, host: i.host, hostname: i.hostname, port: "0"==i.port ? "" : i.port, pathname: i.pathname, search: i.search, hash: i.hash, origin: null}; "/" !==r.pathname[0] && (r.pathname="/" + r.pathname), (("http:"==r.protocol && 80==r.port) || ("https:"==r.protocol && 443==r.port)) && ((r.port=""), (r.host=r.hostname)), (r.origin=i.origin && "null" !=i.origin ? i.origin : "data:" !=r.protocol && r.host ? r.protocol + "//" + r.host : r.href), e && e.put(t, r), (t=r);}return t;}function u(t){t || (t={debug: !1, windowContext: window}), (this.o={}), (this.l={}), (this.J=t.debug), (this.A=this.N=this.O=!1), (this.B=this.G=this.H=this.j=this.F=null), (this.h=t.windowContext || window);}function r(){var t={debug: !1}; (this.J=t.debug), (this.h=t.windowContext || window), (this.m=new u({debug: this.J, windowContext: this.h})), (this.D={});}function d(t, e){t({success: !0, error: void 0, result: e});}function p(t){return ( t.h.navigator.serviceWorker && t.h.navigator.serviceWorker.controller && "activated"===t.h.navigator.serviceWorker.controller.state );}(h.prototype.has=function (t){return !!this.w[t];}), (h.prototype.get=function (t){var e=this.w[t]; if (e) return (e.access=++this.C), e.payload;}), (h.prototype.put=function (t, e){if ( (this.has(t) || this.I++, (this.w[t]={payload: e, access: this.C}), !(this.I <=this.M)) ){if (!c.dev) throw Error( "failed to call initLogConstructor" ); (t=c.dev).warn("lru-cache", "Trimming LRU cache"), (t=this.w); var i, r=this.C + 1; for (i in t){var o=t[i].access; if (o < r){r=o; var n=i;}}void 0 !==n && (delete t[n], this.I--);}}), ((t=u.prototype).listen=function (i){var r=this; return new Promise(function (t, e){r.A ? e(Error("Already connected.")) : r.O ? e(Error("Already listening for connections.")) : Array.isArray(i) ? ((r.H=r.W.bind(r, i, t, e)), r.h.addEventListener("message", r.H)) : e( Error( "allowedOrigins should be a string array of allowed origins to accept messages from. Got:", i ) );}).then(function (){r.send(u.Topics.CONNECT_HANDSHAKE, null), (r.A=!0);});}), (t.W=function (t, e, i, r){var o=r.data, n=r, s=n.ports; t:{n=l(n.origin).origin; for (var a=0; a < t.length; a++) if (l(t[a]).origin===n){t=!0; break t;}t=!1;}t && o && o.topic===u.Topics.CONNECT_HANDSHAKE && (this.h.removeEventListener("message", this.H), (this.j=s[0]), (this.B=this.K.bind(this)), this.j.addEventListener("message", this.B, !1), this.j.start(), e());}), (t.connect=function (i, r){var o=this; return new Promise(function (t, e){i || e( Error( "Provide a valid Window context to connect to." ) ), r || e( Error( "Provide an expected origin for the remote Window or provide the wildcard *." ) ), o.A ? e(Error("Already connected.")) : o.N ? e(Error("Already connecting.")) : ((o.F=new MessageChannel()), (o.j=o.F.port1), (o.G=o.V.bind(o, o.j, r, t)), o.j.addEventListener("message", o.G), o.j.start(), i.postMessage({topic: u.Topics.CONNECT_HANDSHAKE}, "*"===r ? "*" : l(r).origin, [o.F.port2] ));});}), (t.V=function (t, e, i){(this.A=!0), t.removeEventListener("message", this.G), (this.B=this.K.bind(this)), t.addEventListener("message", this.B, !1), i();}), (t.K=function (t){if (((t=t.data), this.o[t.id] && t.isReply)){var e=this.o[t.id]; delete this.o[t.id]; var i=e.promiseResolver; (e.message=t.data), i([t.data, this.L.bind(this, t.id, e.topic)]);}else{var r=this.l[t.topic]; if (r) for (var o=0; o < r.length; o++) (0, r[o])( t.data, this.L.bind(this, t.id, t.topic) );}}), (t.on=function (t, e){this.l[t] ? this.l[t].push(e) : (this.l[t]=[e]);}), (t.off=function (t, e){if (e){var i=this.l[t].indexOf(e); - 1 !==i && this.l[t].splice(i, 1);}else this.l[t] && delete this.l[t];}), (t.L=function (t, e, i){var r=this, o={id: t, topic: e, data: i, isReply: !0}; return ( this.j.postMessage(o), new Promise(function (t){r.o[o.id]={message: i, topic: e, promiseResolver: t};}) );}), (t.send=function (e, i){var r=this, o={id: crypto .getRandomValues(new Uint8Array(10)) .join(""), topic: e, data: i}; return ( this.j.postMessage(o), new Promise(function (t){r.o[o.id]={message: i, topic: e, promiseResolver: t};}) );}), i.Object.defineProperties(u,{Topics:{configurable: !0, enumerable: !0, get: function (){return{CONNECT_HANDSHAKE: "topic-connect-handshake", NOTIFICATION_PERMISSION_STATE: "topic-notification-permission-state", SERVICE_WORKER_STATE: "topic-service-worker-state", SERVICE_WORKER_REGISTRATION: "topic-service-worker-registration", SERVICE_WORKER_QUERY: "topic-service-worker-query", STORAGE_GET: "topic-storage-get"};}}}), ((t=r.prototype).P=function (t, e){if (t && t.isQueryTopicSupported){var i, r=!1; for (i in u.Topics) t.isQueryTopicSupported===u.Topics[i] && (r=!0); d(e, r);}else d(e, Notification.permission);}), (t.U=function (t, e){var i=null; try{if (t && t.key && this.h.localStorage) i=this.h.localStorage.getItem(t.key); else{if (!c.user) throw Error( "failed to call initLogConstructor" ); c.user.warn( "amp-web-push", "LocalStorage retrieval failed." );}}catch (t){}d(e, i);}), (t.T=function (t, e){d(e,{isControllingFrame: !!this.h.navigator.serviceWorker .controller, url: this.h.navigator.serviceWorker.controller ? this.h.navigator.serviceWorker.controller .scriptURL : null, state: this.h.navigator.serviceWorker.controller ? this.h.navigator.serviceWorker.controller .state : null});}), (t.S=function (t, e){if (!t || !t.workerUrl || !t.registrationOptions) throw Error( "Expected arguments workerUrl and registrationOptions in message, got:", t ); this.h.navigator.serviceWorker .register(t.workerUrl, t.registrationOptions) .then(function (reg){d(e, null);}) .catch(function (t){d(e, t ? t.message || t.toString() : null);});}), (t.messageServiceWorker=function (t){this.h.navigator.serviceWorker.controller.postMessage({command: t.topic, payload: t.payload});}), (t.R=function (e, i){var r=this; if (!e || !e.topic) throw Error( "Expected argument topic in message, got:", e ); new Promise(function (t){(r.D[e.topic]=t), r .waitUntilWorkerControlsPage() .then(function (){r.messageServiceWorker(e);});}).then(function (t){return delete r.D[e.topic], d(i, t);});}), (t.X=function (t){var e=(t=t.data).command; t=t.payload; var i=this.D[e]; "function"==typeof i && i(t);}), (t.waitUntilWorkerControlsPage=function (){var e=this; return new Promise(function (t){p(e) ? t() : e.h.navigator.serviceWorker.addEventListener( "controllerchange", function (){p(e) ? t() : e.h.navigator.serviceWorker.controller.addEventListener( "statechange", function (){p(e) && t();});});});}), (t.run=function (t){var e=this; this.m.on( u.Topics.NOTIFICATION_PERMISSION_STATE, this.P.bind(this) ), this.m.on( u.Topics.SERVICE_WORKER_STATE, this.T.bind(this) ), this.m.on( u.Topics.SERVICE_WORKER_REGISTRATION, this.S.bind(this) ), this.m.on( u.Topics.SERVICE_WORKER_QUERY, this.R.bind(this) ), this.m.on(u.Topics.STORAGE_GET, this.U.bind(this)), this.waitUntilWorkerControlsPage().then(function (){e.h.navigator.serviceWorker.addEventListener( "message", e.X.bind(e) );}), this.m.listen([ t || (function (t){t=t.h.location.search; var e=Object.create(null); if (t) for (var i; (i=s.exec(t));){var r=n(i[1], i[1]); (i=i[2] ? n(i[2], i[2]) : ""), (e[r]=i);}var o=e; if (!o.parentOrigin) throw Error( "Expecting parentOrigin URL query parameter." ); return o.parentOrigin;})(this)]);}), (window._ampWebPushHelperFrame=new r()), window._ampWebPushHelperFrame.run();})(); var db, tx, store, index, request=indexedDB.open("WE_PUSH", 1); (request.onupgradeneeded=function (t){(db=request.result), (store=db.createObjectStore("user",{keyPath: "id"}));}), (request.onerror=function (t){console.log(t);}), (request.onsuccess=function (t){(db=request.result), (tx=db.transaction("user", "readwrite")), (store=tx.objectStore("user")); var e=getCookie("we_luid"); if ( ((db.onerror=function (t){console.log(t);}), e) ){var i=store.get("context"); (i.onsuccess=function (){(void 0 !==i.result && e==i.result.luid) || (void 0 !==i.result && e !==i.result.luid ? ((i.result.luid=getCookie("we_luid")), store.put(i.result)) : null==i.result && store.put({id: "context", luid: getCookie("we_luid")}));}), (tx.oncomplete=function (t){db.close();});}}); </script></head><body data-gr-c-s-loaded="true"></body></html>`;
}
function getPermissionDialogStr() {
  // https://docs.webengage.com/docs/web-push-for-amp
  // https://s3.amazonaws.com/amp-helpers/amp-web-push-permission-dialog.html
  return `
<!DOCTYPE html><!-- saved from url=(0065)https://cdn.ampproject.org/v0/amp-web-push-permission-dialog.html --><html class="gr__cdn_ampproject_org"><!-- AMP Web Push Permission Dialog --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- Do not edit styles in this section --><style builtin="">body,html{height:100%;margin:0;padding:0}.spinner,.spinner:after{border-radius:50%;width:10em;height:10em}.spinner{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:1.1em solid rgba(140,140,140,.2);border-right:1.1em solid rgba(140,140,140,.2);border-bottom:1.1em solid rgba(140,140,140,.2);border-left:1.1em solid #8c8c8c;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation:spinner 1.1s infinite linear;animation:spinner 1.1s infinite linear}@-webkit-keyframes spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}body{display:flex;justify-content:center;align-items:center;padding:15px}.message{font-size:22px;font-family:sans-serif;text-align:center}#close{position:fixed;right:32px;top:32px;width:32px;height:32px;opacity:.5;cursor:pointer}#close:after,#close:before{position:fixed;right:48px;content:' ';height:33px;width:3px;background-color:#333}#close:before{transform:rotate(45deg)}#close:after{transform:rotate(-45deg)}.invisible{display:none}</style><!-- Optional: Add custom styles here --><style custom=""></style></head><body data-gr-c-s-loaded="true"><div id="preload"><!-- Anything in this section will be shown before the main script
runs, and will be hidden after --><div class="spinner"></div></div><div id="postload" class="invisible"><span id="close"></span><div permission="default"><p class="message"><!--
Customize the subscribing message here
  (e.g. "Click Allow to receive notifications")
--> Click Allow to receive notifications.</p></div><div permission="denied"><!--
Customize the unblocking message here
  (e.g. "Please unblock notifications in your browser settings
          to receive notifications from this website.")
--><p class="message">Please unblock notifications in your browser settings to receive notifications from this website.</p></div></div><script>!function(){var t,i,e=(i=this,"undefined"!=typeof window&&window===i?i:"undefined"!=typeof global&&null!=global?global:i);function s(t,i){i=void 0===i?"":i;try{return decodeURIComponent(t)}catch(t){return i}}var a=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;self.log=self.log||{user:null,dev:null,userForEmbed:null};var n,r,h=self.log;function c(){this.L=100,this.B=this.G=0,this.o=Object.create(null)}function l(t){n||(n=self.document.createElement("a"),r=self.UrlCache||(self.UrlCache=new c));var i=r,e=n;if(i&&i.has(t))t=i.get(t);else{e.href=t,e.protocol||(e.href=e.href);var o={href:e.href,protocol:e.protocol,host:e.host,hostname:e.hostname,port:"0"==e.port?"":e.port,pathname:e.pathname,search:e.search,hash:e.hash,origin:null};"/"!==o.pathname[0]&&(o.pathname="/"+o.pathname),("http:"==o.protocol&&80==o.port||"https:"==o.protocol&&443==o.port)&&(o.port="",o.host=o.hostname),o.origin=e.origin&&"null"!=e.origin?e.origin:"data:"!=o.protocol&&o.host?o.protocol+"//"+o.host:o.href,i&&i.put(t,o),t=o}return t}function u(t){t||(t={debug:!1,windowContext:window}),this.m={},this.l={},this.I=t.debug,this.w=this.M=this.N=!1,this.A=this.D=this.F=this.j=this.C=null,this.h=t.windowContext||window}c.prototype.has=function(t){return!!this.o[t]},c.prototype.get=function(t){var i=this.o[t];if(i)return i.access=++this.B,i.payload},c.prototype.put=function(t,i){if(this.has(t)||this.G++,this.o[t]={payload:i,access:this.B},!(this.G<=this.L)){if(!h.dev)throw Error("failed to call initLogConstructor");(t=h.dev).warn("lru-cache","Trimming LRU cache"),t=this.o;var e,o=this.B+1;for(e in t){var n=t[e].access;if(n<o){o=n;var r=e}}void 0!==r&&(delete t[r],this.G--)}},(t=u.prototype).listen=function(e){var o=this;return new Promise(function(t,i){o.w?i(Error("Already connected.")):o.N?i(Error("Already listening for connections.")):Array.isArray(e)?(o.F=o.P.bind(o,e,t,i),o.h.addEventListener("message",o.F)):i(Error("allowedOrigins should be a string array of allowed origins to accept messages from. Got:",e))}).then(function(){o.send(u.Topics.CONNECT_HANDSHAKE,null),o.w=!0})},t.P=function(t,i,e,o){var n=o.data,r=o,s=r.ports;t:{r=l(r.origin).origin;for(var a=0;a<t.length;a++)if(l(t[a]).origin===r){t=!0;break t}t=!1}t&&n&&n.topic===u.Topics.CONNECT_HANDSHAKE&&(this.h.removeEventListener("message",this.F),this.j=s[0],this.A=this.J.bind(this),this.j.addEventListener("message",this.A,!1),this.j.start(),i())},t.connect=function(e,o){var n=this;return new Promise(function(t,i){e||i(Error("Provide a valid Window context to connect to.")),o||i(Error("Provide an expected origin for the remote Window or provide the wildcard *.")),n.w?i(Error("Already connected.")):n.M?i(Error("Already connecting.")):(n.C=new MessageChannel,n.j=n.C.port1,n.D=n.O.bind(n,n.j,o,t),n.j.addEventListener("message",n.D),n.j.start(),e.postMessage({topic:u.Topics.CONNECT_HANDSHAKE},"*"===o?"*":l(o).origin,[n.C.port2]))})},t.O=function(t,i,e){this.w=!0,t.removeEventListener("message",this.D),this.A=this.J.bind(this),t.addEventListener("message",this.A,!1),e()},t.J=function(t){if(t=t.data,this.m[t.id]&&t.isReply){var i=this.m[t.id];delete this.m[t.id];var e=i.promiseResolver;i.message=t.data,e([t.data,this.K.bind(this,t.id,i.topic)])}else{var o=this.l[t.topic];if(o)for(var n=0;n<o.length;n++)(0,o[n])(t.data,this.K.bind(this,t.id,t.topic))}},t.on=function(t,i){this.l[t]?this.l[t].push(i):this.l[t]=[i]},t.off=function(t,i){if(i){var e=this.l[t].indexOf(i);-1!==e&&this.l[t].splice(e,1)}else this.l[t]&&delete this.l[t]},t.K=function(t,i,e){var o=this,n={id:t,topic:i,data:e,isReply:!0};return this.j.postMessage(n),new Promise(function(t){o.m[n.id]={message:e,topic:i,promiseResolver:t}})},t.send=function(i,e){var o=this,n={id:crypto.getRandomValues(new Uint8Array(10)).join(""),topic:i,data:e};return this.j.postMessage(n),new Promise(function(t){o.m[n.id]={message:e,topic:i,promiseResolver:t}})},e.Object.defineProperties(u,{Topics:{configurable:!0,enumerable:!0,get:function(){return{CONNECT_HANDSHAKE:"topic-connect-handshake",NOTIFICATION_PERMISSION_STATE:"topic-notification-permission-state",SERVICE_WORKER_STATE:"topic-service-worker-state",SERVICE_WORKER_REGISTRATION:"topic-service-worker-registration",SERVICE_WORKER_QUERY:"topic-service-worker-query",STORAGE_GET:"topic-storage-get"}}}});var d=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function p(t,i,e,o,n){return n||(i?"ï¿½":o?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function o(){var t={debug:!1};this.I=t.debug,this.h=t.windowContext||window,this.H=new u({debug:this.I,windowContext:this.h})}function f(t){t.h.localStorage.setItem("amp-web-push-notification-permission",t.h.Notification.permission)}function g(t,i){if(t){var e="invisible";i?t.classList.remove(e):t.classList.add(e)}}function m(e){e.requestNotificationPermission().then(function(t){if(f(e),e.isCurrentDialogPopup())return e.H.connect(opener,"*"),e.H.send(u.Topics.NOTIFICATION_PERMISSION_STATE,t).then(function(t){var i=t[0];i&&i.closeFrame&&e.closeDialog()});e.closeDialog()})}(t=o.prototype).isCurrentDialogPopup=function(){return!!this.h.opener&&this.h.opener!==this.h},t.requestNotificationPermission=function(){var t=this;return new Promise(function(i,e){try{t.h.Notification.requestPermission(function(t){return i(t)})}catch(t){e(t)}})},t.run=function(){var t,i,e;(i=(t=this).h.document.querySelector("#close"))&&i.addEventListener("click",function(){t.closeDialog()}),f(this);for(var o=this.h.document.querySelectorAll("[permission]"),n=0;n<o.length;n++)g(o[n],!1);(o=this.h.document.querySelector("[permission="+String(this.h.Notification.permission).replace(d,p)+"]"))&&g(o,!0),o=this.h.document.querySelector("#preload"),n=this.h.document.querySelector("#postload"),o&&n&&(g(o,!1),g(n,!0)),"denied"!==this.h.Notification.permission?m(this):(e=this,navigator.permissions.query({name:"notifications"}).then(function(t){t.onchange=function(){switch(f(e),e.h.Notification.permission){case"default":case"granted":m(e)}}}))},t.closeDialog=function(){if(this.isCurrentDialogPopup())this.h.close();else{var t=(this.h.fakeLocation||this.h.location).search,i=Object.create(null);if(t)for(var e;e=a.exec(t);){var o=s(e[1],e[1]);e=e[2]?s(e[2],e[2]):"",i[o]=e}var n=i;if(!n.return)throw Error("Missing required parameter.");var r=s(n.return,void 0);this.redirectToUrl(r)}},t.redirectToUrl=function(t){var i=l(t);!i||"http:"!==i.protocol&&"https:"!==i.protocol||(this.h.location.href=t)},window._ampWebPushPermissionDialog=new o,window._ampWebPushPermissionDialog.run()}()</script></body></html>`;
}

// versioned so can cache indefinately.
// Caching for 1 day for now, once everything is fine can increase to 1 yr
// once everything looks good, change cache-control in webengageHelperIframeHandler and
// webengagePermissionDialogHandler to public,max-age=31104000,s-maxage=31104000,immutable
async function webengageHelperIframeHandler(req, res) {
  return res
    .set({
      "Content-Type": "text/html",
      "Cache-Control": "public,max-age=86400,immutable",
    })
    .status(200)
    .send(getHelperIframeHtmlStr());
}
async function webengagePermissionDialogHandler(req, res) {
  return res
    .set({
      "Content-Type": "text/html",
      "Cache-Control": "public,max-age=86400",
    })
    .status(200)
    .send(getPermissionDialogStr());
}

module.exports = {
  webengageHelperIframeHandler,
  webengagePermissionDialogHandler,
};
